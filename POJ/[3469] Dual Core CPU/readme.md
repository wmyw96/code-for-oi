[意识流]

除了简单的易于看出来的带割的模型，我们还要看出一些隐藏着的模型，比如说这道题。

题目很短，显然理解不会有什么障碍。

然而，我们总结一下题目的要求

* 对于一个任务，只能在一台机子上做。

* 如果两个任务(a,b)不在同一台机子上做的话，要支付额外的费用。

乍看这题目，觉得毫无思绪。

如果对于一个有第二条限制的任务(i,j)来说，我们在一台机子上做的话，就是

min(cl[i]+cl[j],cr[i]+cr[j])

其中cl为cost_l，cr为cost_r

然而，如果不在一个机子上做的话，就是

min(cl[i]+cr[j],cr[i]+cl[j])+c_extra。

我们要在这个两个部分取最小值。

再画一个形象的表格：


	i   cost_l			cost_r

	        	   extra

	j   cost_l			cost_r


我们有四种思路可以选择，似乎仍然不知道怎么做？

然而，似乎要找一种东西能够不动脑子地分辨，因为似乎状态的决策是很复杂的。

那么，如果extra=0时，当cl[i]+cl[j]和cr[i]+cr[j]比较我选小的。

如果cost_l打得让人无法接受，在cl[i]+cl[j]+extra和cr[i]+cl[j]里面我要选一个比较小的。

这应该是一个水到渠成的过程――突然就想到了网络流的特点，一条增广路上的流量不就应该是总共的最小的么？

好吧、那先来建一个图：

       
	         -----[1]-----   i   -----[2]-----

	     / 	  (cl_i)    		    （cr_i）     \

	S -                		                          - T

	      \     （cl_j）		    （cr_j）     /

		   -----[3]-----   j   -----[4]-----


好吧，这样如果没有extra就应该是这样子了，这样对于这个图只要求最大流即可。

那么，添一个extra的限制，怎么改？

**如果两个不在同一个机子上，还要有额外的费用**

我们看，如果我们假设选择了[1][4]的话，这里要满足[3]的流量要比[4]大，[2]的流量要比[1]大，[1]满足不了[2]，[4]的流量对于[3]来说太少了濉（不然的话就选两个最小的。）

那么怎么办呢？

把[3]的多余的给弄到[2]去、

如果连(i,j)，容量为extra的话，分情况讨论。

如果w([3]-[4])>=w([2]-[1])，那么我就会从[3]里面弄到[2]里去，

w([2]-[1])<extra，那么显然最大流是[2]+[4]，

w([2]-[1])>=extra，那么最大流是[1]+[4]+extra.

如果w([3]-[4])<extra，那么

w([2]-[1])<w([3]-[4])，最大流是[2]+[4]

w([3]-[4])<=w([2]-[1])<extra，最大流是[3]+[1]

w([2]-[1])>extra，最大流是[1]+extra+[4]。

仔细分析一下，似乎所有的情况都要考虑到了。

然后，建图就易如反掌:

S,T,A(1~N)

(1) 对于点i∈A，连(S,i,cost_1)，(i,T,cost_2)

(2) 对于第二种情况描述的mair(a,b,w)，连(a,b,w),(b,a,w)

然后，就是意识流的结束。
